---
interface Props {
  text: string | string[];
  status?: "available" | "busy" | "offline" | "glass";
  pulse?: boolean;
}

const { text, status = "available", pulse = true } = Astro.props;

const statusColors = {
  available: `
    bg-transparent text-blue-600 border-blue-600
    dark:bg-transparent dark:text-neutral-100 dark:border-neutral-300
  `,
  // dark:bg-[var(--primary-blue-100)] dark:text-neutral-900 dark:border-neutral-300
  // dark:bg-blue-600 dark:text-neutral-100 dark:border-neutral-white
  busy: `
    bg-amber-500/15 text-amber-700 border-amber-500/30
    dark:bg-amber-500/20 dark:text-amber-300 dark:border-amber-400
  `,
  offline: `
    bg-neutral-500/10 text-neutral-600 border-neutral-500/30
    dark:bg-neutral-700/20 dark:text-neutral-300 dark:border-neutral-500/50
  `,
  glass: `
    bg-gradient-to-tr from-white/90 via-slate-50/60 to-white/30 backdrop-blur-xl border border-white/60 text-slate-700 shadow-md
    dark:bg-gradient-to-br dark:from-white/10 dark:via-white/5 dark:to-transparent dark:text-neutral-100 dark:border-white/10 dark:shadow-[0_0_15px_rgba(0,0,0,0.2)]
  `,
};

const dotColors = {
  available: "bg-emerald-300 dark:bg-emerald-300",
  busy: "bg-amber-500 dark:bg-amber-400",
  offline: "bg-neutral-500 dark:bg-neutral-400",
  glass: "bg-sky-400 dark:bg-sky-300 shadow-[0_0_8px_rgba(14,165,233,0.6)]",
};
---

<span
  class={`inline-flex items-center gap-4 px-4 py-1.5 rounded-xl border-2 text-[12px] sm:text-[12px] md:text-sm font-normal mb-8 mt-2 backdrop-blur-sm transition-all duration-300 ${statusColors[status]}`}
>
  <span class="relative flex h-2.5 w-2.5">
    <span
      class={`absolute inline-flex h-full w-full rounded-full opacity-75 ${dotColors[status]} ${pulse ? "animate-ping" : ""}`}
    ></span>
    <span
      class={`relative inline-flex h-2.5 w-2.5 rounded-full ${dotColors[status]}`}
    ></span>
  </span>
  {text}
</span>
