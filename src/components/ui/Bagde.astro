---
interface Props {
  text: string
  status?: "available" | "busy" | "offline"
  pulse?: boolean
}

//   <Badge text="Disponible para trabajar" status="available" />
//   <Badge text="Ocupado actualmente" status="busy" />
//   <Badge text="No disponible" status="offline" pulse={false} />

const { text, status = "available", pulse = true } = Astro.props

const statusColors = {
  available: "bg-emerald-500/20 text-emerald-600 border-emerald-500/40",
  busy: "bg-amber-500/20 text-amber-600 border-amber-500/40",
  offline: "bg-neutral-500/20 text-neutral-600 border-neutral-500/40",
}

const dotColors = {
  available: "bg-emerald-500",
  busy: "bg-amber-500",
  offline: "bg-neutral-500",
}
---

<span
  class={`inline-flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm font-normal m-8 backdrop-blur-sm transition-all duration-300 ${statusColors[status]}`}
>
  <span class={`relative flex h-2.5 w-2.5`}>
    <span
      class={`absolute inline-flex h-full w-full rounded-full opacity-75 ${dotColors[status]} ${
        pulse ? "animate-ping" : ""
      }`}
    ></span>
    <span
      class={`relative inline-flex rounded-full h-2.5 w-2.5 ${dotColors[status]}`}
    ></span>
  </span>
  {text}
</span>