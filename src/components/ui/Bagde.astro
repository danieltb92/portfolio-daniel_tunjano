---
interface Props {
  text: string | string[];
  status?: "available" | "busy" | "offline";
  pulse?: boolean;
}

const { text, status = "available", pulse = true } = Astro.props;

const statusColors = {
  available: `
    bg-transparent text-blue-600 border-blue-600
    dark:bg-transparent dark:text-neutral-100 dark:border-neutral-300
  `,
  // dark:bg-[var(--primary-blue-100)] dark:text-neutral-900 dark:border-neutral-300
  // dark:bg-blue-600 dark:text-neutral-100 dark:border-neutral-white
  busy: `
    bg-amber-500/15 text-amber-700 border-amber-500/30
    dark:bg-amber-500/20 dark:text-amber-300 dark:border-amber-400
  `,
  offline: `
    bg-neutral-500/10 text-neutral-600 border-neutral-500/30
    dark:bg-neutral-700/20 dark:text-neutral-300 dark:border-neutral-500/50
  `,
};

const dotColors = {
  available: "bg-emerald-300 dark:bg-emerald-300",
  busy: "bg-amber-500 dark:bg-amber-400",
  offline: "bg-neutral-500 dark:bg-neutral-400",
};
---

<span
  class={`inline-flex items-center gap-4 px-4 py-1.5 rounded-xl border-2 text-[12px] sm:text-[12px] md:text-sm font-normal my-8 backdrop-blur-sm transition-all duration-300 ${statusColors[status]}`}
>
  <span class="relative flex h-2.5 w-2.5">
    <span
      class={`absolute inline-flex h-full w-full rounded-full opacity-75 ${dotColors[status]} ${pulse ? "animate-ping" : ""}`}
    ></span>
    <span
      class={`relative inline-flex h-2.5 w-2.5 rounded-full ${dotColors[status]}`}
    ></span>
  </span>
  {text}
</span>
